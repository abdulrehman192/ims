<!DOCTYPE html>                                                                                                                                                                                                                                                                  
<html>                                                                                                                                                                                                                                                                           
    <head>                                                                                                                                                                                                                                                                       
        <title>Minio SDK for JavaScript - Sample Application</title>                                                                                                                                                                                                             
        <script src="minio-browser.js"></script> 
                                                                                                                                                                                                                            
    </head>                                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                                                 
    <body>                                                                                                                                                                                                                                                                       
        <div id="results"></div>                                                                                                                                                                                                                                                 
        <input type="file" id="file-chooser" />                                                                                                                                                                                                                                  
        <button id="upload-button">Upload to Minio</button>                                                                                                                                                                                                                      
        <script type="text/javascript">                                                                                                                                                                                                                                          
        //  const Minio = require('minio');                                                                                                                                                                                                                                                                        
         var s3 = new Minio.Client({
                    endPoint: 'play.min.io',
                    port: 9000,
                    useSSL: true,
                    accessKey: 'T3WWv0ic6BFddounDlOP',
                    secretKey: 'IImmN0tOK3NJpd87OHwdGMCN1e3Z2MTlMZHKssNt',
                    });                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                 
         var fileChooser = document.getElementById('file-chooser');                                                                                                                                                                                                              
         var button = document.getElementById('upload-button');                                                                                                                                                                                                                  
         var results = document.getElementById('results');                                                                                                                                                                                                                       
         var reader = new FileReader();                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                                 
         button.addEventListener('click', function () {                                                                                                                                                                                                                          
             var file = fileChooser.files[0];                                                                                                                                                                                                                                    
             if (file) {                                                                                                                                                                                                                                                         
                 results.innerHTML = '';                                                                                                                                                                                                                                         
                 // Object key will be facebook-USERID#/FILE_NAME                                                                                                                                                                                                                
                 var objKey =  file.name;                                                                                                                                                                                                                     
                 var params = {                                                                                                                                                                                                                                                  
                     Bucket: 'public-files',                                                                                                                                                                                                                                       
                     Key: objKey,                                                                                                                                                                                                                                                
                     ContentType: file.type,                                                                                                                                                                                                                                     
                     Body: file,                                                                                                                                                                                                                                                 
                 };                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                 
                 reader.onloadend = function () {                                                                                                                                                                                                                                
                     s3.putObject('public-files', objKey, reader.result, file.type, function(e) {                                                                                                                                                                                  
                         if (e) {                                                                                                                                                                                                                                                
                             results.innerHTML = 'ERROR: ' + e;                                                                                                                                                                                                                  
                         } else {                                                                                                                                                                                                                                                
                             s3.statObject('public-files', objKey, function(e, stat) {                                                                                                                                                                                             
                                 if (e) {                                                                                                                                                                                                                                        
                                     results.innerHTML = 'ERROR: ' + e;                                                                                                                                                                                                          
                                 } else {                                                                                                                                                                                                                                        
                                     results.innerHTML = objKey + ' Size:' + stat.size + ' ETag:' + stat.etag;                                                                                                                                                                   
                                 }                                                                                                                                                                                                                                               
                             });                                                                                                                                                                                                                                                 
                         }                                                                                                                                                                                                                                                       
                     });                                                                                                                                                                                                                                                         
                 }                                                                                                                                                                                                                                                               
                 reader.readAsText(file);                                                                                                                                                                                                                                        
             } else {                                                                                                                                                                                                                                                            
                 results.innerHTML = 'Nothing to upload.';                                                                                                                                                                                                                       
             }                                                                                                                                                                                                                                                                   
         }, false);                                                                                                                                                                                                                                                              
        </script>                                                                                                                                                                                                                                                                
    </body>                                                                                                                                                                                                                                                                      
</html>